# Tron Wallet Service

Сервис, разработанный с использованием FastAPI, предоставляет два эндпоинта для работы с информацией о кошельках Tron. Сервис позволяет сохранять информацию о кошельке Tron в базу данных и получать сохраненные данные с поддержкой пагинации.

## Описание

Сервис предоставляет два API-метода:

1. **POST /create_wallet_info/** — Получает информацию о кошельке Tron по адресу, сохраняет её в базе данных и возвращает данные (баланс, энергия, пропускная способность).
2. **GET /get_wallet_info/** — Получает записи о кошельках из базы данных с поддержкой пагинации.

## Основной стек технологий

- **FastAPI** — веб-фреймворк для создания API.
- **SQLAlchemy** — ORM для работы с базой данных.
- **PostgreSQL** — база данных для хранения информации о кошельках.
- **Pydantic** — для валидации данных и схем.

## Установка

1. Клонируйте репозиторий:

    ```bash
    git clone https://github.com/Lemingen/trx-wallet-service
    cd trx-wallet-service
    ```

2. Создайте виртуальное окружение и активируйте его:

    ```bash
    python3.13 -m venv venv
    source venv/bin/activate  # Для Linux/Mac
    venv\Scripts\activate  # Для Windows
    ```

3. Установите зависимости:

    ```bash
    pip install -r requirements.txt
    ```

4. Настройте базу данных PostgreSQL и создайте таблицы с помощью миграций:
    
    Для создания базы данных можно использовать инструменты SQLAlchemy (Alembic).
    Для подключения БД используется pydantic-settings. Необходимо в корне проекта создать файл .env, например:

    ```bash
    DB_HOST = localhost
    DB_PORT = 5438
    DB_USER = postgres
    DB_PASSWORD = postgres
    DB_NAME = wallet_db
    ```

5. Добавить в файл .env API-ключ созданный в сервисе trongrid.io, например:

    ```bash
    API_KEY = 5454y351-8fea-4ac7-969c-8b477317c107
    ```

## Запуск

Для запуска сервиса используйте команду:

```bash
uvicorn src.api:app --reload
```

Сервис будет доступен по адресу http://localhost:8000.
